<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="./css/bootstrap.min.css">
<title>Translater</title>
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col">
        <div class="my-3 ps-3 fs-3 fw-bold">언어 선택</div>
        <div class="row">
          <div class="col">
            <select class="form-select" aria-label="Default select example" id="dd">
              <option value="ko">한국어</option>
              <option value="en">영어</option>
            </select>
          </div>
          <div class="col">
            <select class="form-select" aria-label="Default select example" id="dd">
              <option value="ko">한국어</option>
              <option value="en">영어</option>
            </select>
        </div>
        </div>
          
        </div>
    </div>

    <div class="row">
      <div class="col pe-0">
        <input class="form-control" style="height: 300px !important;" type="text"  id="trans_word" placeholder="번역할 내용을 입력해주세요">
      </div>
      <div class="col ps-0">
        <div class="form-control" style="height: 300px !important" id="outprint"></div>
      </div>
    </div>
    <div class="row ms-0 me-0">
      <button type="button" class="btn btn-light ps-10" style="width: 1300px; height: 45px;" onClick = "send_trnaslate()">번역</button>
    </div>
  </div>  
</body>

<script>
    function send_trnaslate() {
        let formData = new FormData();

        let opt = document.getElementById('dd').value;
        let trans_word = document.getElementById('trans_word').value;

        formData.append("text", trans_word);
        
        if (opt == 'ko') {
            formData.append("lang", 'ko');    
            let url = "http://127.0.0.1:5000/trans_ko";
            send_msg(url, formData);
        }
        else if(opt == 'en') {
            formData.append("lang", 'en');
            let url = "http://127.0.0.1:5000/trans_en";
            send_msg(url, formData);
        }
    };

    function send_msg(url, data) {
        fetch(url, {
            headers: {
	            Accept: "application / json",
	        },
            method: "POST",
            body: data,
        })
        .then((res) => res.json())
        .then((data) => {
            console.log(data['text']);
            let d = document.getElementById("outprint");
            d.innerText = data['text'];
        });
    }
</script>

<style>
.transinput{
  font-size : 15px; 
  text-align : left;
}
.parent{
  margin: 10px auto;
  top: 25%!important;
}

.first {
  float: left;
  width:50%;
  box-sizing: border-box;
}
.second{
  float: left;
  width:50%;
  box-sizing: border-box;
}
.output {
  text-align : left;
  background-color : #ffffff;
  border : 0;
}
.asdf {
  display: flex;
  justify-content: center;
  align-items: center;
}
button:hover {
  background-color:#4c4e53;
  transition: 0.1s;
}
html{
  align-items: center;
}
body {
  margin: 0 auto;
}
ul {
  width: 300px;
}
select {
  width: 150px;
  height : 50px;
  margin: 0 auto;
  text-align : center;
  box-sizing: border-box;
  border-radius: 10px;
  font-family: 'Roboto';  /* 폰트 상속 */
  font-style: normal;
  font-weight: 400;
  font-size: 14px;
  line-height: 16px;
  background: url(https://farm1.staticflickr.com/379/19928272501_4ef877c265_t.jpg) no-repeat 95% 50%; /* 네이티브 화살표 대체 */  
  border: 1px solid #999; 
  -webkit-appearance: none; /* 네이티브 외형 감추기 */
  -moz-appearance: none;
  appearance: none;
  border: none;
}
select::-ms-expand { 
  display: none;
}

</style>
</html>